# Load Turkish Keys

loadkeys trq

# Connect Internet

wifi-menu

# Setting the System Clock

timedatectl set-ntp true

# Partitioning the Hard Drive

cfdisk /dev/sda
/dev/sda1 -- Boot Partition = 500MB 
/dev/sda2 -- Default Partition = 100%

# Full Disk Encryption

cryptsetup --cipher twofish-xts-plain64 --hash sha512 --key-size 256 luksFormat /dev/sda2
cryptsetup luksOpen /dev/sda2 cryptroot

# Creating the file systems

mkfs.ext4 /dev/sda1
mkfs.ext4 /dev/mapper/cryptroot

# Installing basic software packages

mount /dev/mapper/cryptroot /mnt
mkdir -p /mnt/boot
mount /dev/sda1 /mnt/boot
pacstrap -i /mnt base base-devel xorg-apps grub wireless_tools dialog wpa_supplican wpa_actiond 

# Chroot Arch Linux Virtual Environment

genfstab -U -p /mnt >> /mnt/etc/fstab
arch-chroot /mnt

# OS Configuration

nano /etc/locale.gen
-- en_US.UTF-8 UTF-8
-- en_US ISO-8859-1
locale-gen

nano /etc/locale.conf
-- LANG=en_US.UTF-8

timedatectl set-timezone Europe/Istanbul
hwclock –systohc –utc

echo ArchServer > /etc/hostname

# Root Password

passwd

# Add User

useradd -m -G wheel -s /bin/bash/ ceyhan
passwd ceyhan

# Bootloader

nano /etc/default/grub
GRUB_ENABLE_CRYPTODISK=y
GRUB_CMDLINE_LINUX="cryptdevice=/dev/sda2:cryptroot:allow-discards"

nano /etc/mkinitcpio.conf
nano /etc/mkinitcpio.conf and add the word "encrypt" to HOOKS='...' just before "filesystems"
mkinitcpio -p linux

grub-install /dev/sda
grub-mkconfig –output /boot/grub/grub.cfg

# Exit Chroot
exit

# Unmount All Partitions
umount /mnt/boot
umount /mnt
cryptsetup luksClose cryptroot

# Reboot System
reboot

# Installing Yaourt

nano /etc/pacman.conf

[archlinuxfr]
SigLevel = Never
Server = http://repo.archlinux.fr/$arch

pacman -Syu yaourt

yaourt -Syy










